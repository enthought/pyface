<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Toolkits &mdash; pyface 7.4 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="_static/copybutton.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '7.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/clipboard.min.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <script type="text/javascript" src="_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="_static/img/favicon.png">
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="pyface 7.4 documentation" href="index.html" >
    <link rel="next" title="Widgets" href="widgets.html" >
    <link rel="prev" title="Overview" href="overview.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="index.html">pyface 7.4 documentation</a></li>
	 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="widgets.html" title="Widgets"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="overview.html" title="Overview"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <div class="section" id="toolkits">
<h1>Toolkits<a class="headerlink" href="#toolkits" title="Permalink to this headline">¶</a></h1>
<p>Pyface is intended to provide a common API on top of distinct GUI backends to
permit the same code to be run on different systems with different GUI
toolkits and produce similar results.  Pyface comes with three built-in
backends in the core library—Qt, WxPython, and a null backend—but provides
hooks for other projects to contribute toolkits and have them be discoverable.</p>
<div class="section" id="toolkit-selection">
<h2>Toolkit Selection<a class="headerlink" href="#toolkit-selection" title="Permalink to this headline">¶</a></h2>
<p>Pyface uses Traits’ <a class="reference external" href="https://docs.enthought.com/traits/traits_api_reference/traits.etsconfig.html#module-traits.etsconfig" title="(in traits v6.3)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">traits.etsconfig</span></code></a> to determine the current
toolkit being used.  Applications can control which toolkit to use in two
ways:</p>
<ul>
<li><p>by setting the environment variable <code class="docutils literal notranslate"><span class="pre">ETS_TOOLKIT</span></code> to the name of the
desired toolkit.</p></li>
<li><p>by importing <code class="xref py py-obj docutils literal notranslate"><span class="pre">ETSConfig</span></code> and setting its <code class="xref py py-attr docutils literal notranslate"><span class="pre">toolkit</span></code>
attribute appropriately:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tratis.etsconfig.api</span> <span class="kn">import</span> <span class="n">ETSConfig</span>
<span class="n">ETSConfig</span><span class="o">.</span><span class="n">toolkit</span> <span class="o">=</span> <span class="s1">&#39;qt4&#39;</span>
</pre></div>
</div>
<p>This must be done _before_ any widget imports in your application, including
importing <a class="reference internal" href="api/pyface.api.html#module-pyface.api" title="pyface.api"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyface.api</span></code></a>.  Precisely, this must be set before the
first import of <a class="reference internal" href="api/pyface.toolkit.html#module-pyface.toolkit" title="pyface.toolkit"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyface.toolkit</span></code></a>.</p>
</li>
</ul>
<p>If for some reason Pyface can’t load a deliberately specified toolkit, then it
will raise an exception.</p>
<p>If the toolkit is not specified, Pyface will try to load the <code class="docutils literal notranslate"><span class="pre">qt4</span></code> or <code class="docutils literal notranslate"><span class="pre">wx</span></code>
toolkits, in that order, and then any other toolkits that it knows about
other than <code class="docutils literal notranslate"><span class="pre">null</span></code>.  If all of those fail, then it will try to load the
<code class="docutils literal notranslate"><span class="pre">null</span></code> toolkit.</p>
<p>Once selected, the toolkit infrastructure is largely transparent to the
application.</p>
</div>
<div class="section" id="toolkit-objects">
<h2>Toolkit Objects<a class="headerlink" href="#toolkit-objects" title="Permalink to this headline">¶</a></h2>
<p>The selection of the correct backend object is carried out by each toolkit’s
toolkit object.  For all built-in toolkits, this is an instance of the
<a class="reference internal" href="api/pyface.base_toolkit.html#pyface.base_toolkit.Toolkit" title="pyface.base_toolkit.Toolkit"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyface.base_toolkit.Toolkit</span></code></a> class, but it is possible that other
backends may use their own objects.  The toolkit object for the toolkit that
has been selected can be found as <code class="xref py py-obj docutils literal notranslate"><span class="pre">pyface.toolkit.toolkit_object</span></code>.</p>
<p>This is a callable object which expects to be given an identifier for the
widget in the form of a relative module name and the object name, separated by
a <code class="docutils literal notranslate"><span class="pre">':'</span></code>.  This is most often used when creating new widget types for Pyface.
The API module for the new widget class typically looks something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.toolkit</span> <span class="kn">import</span> <span class="n">toolkit_object</span>
<span class="n">MyWidget</span> <span class="o">=</span> <span class="n">toolkit_object</span><span class="p">(</span><span class="s1">&#39;my_package.my_widget:MyWidget&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The base toolkits use the identifier to select which module to import the
toolkit object by constructing a full module path from the partial path and
importing the object.  For example the <code class="docutils literal notranslate"><span class="pre">qt4</span></code> backend will look for the
concrete implementation in <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyface.ui.qt4.my_package.my_widget</span></code>
while the <code class="docutils literal notranslate"><span class="pre">wx</span></code> backend will look for
<code class="xref py py-mod docutils literal notranslate"><span class="pre">pyface.ui.wx.my_package.my_widget</span></code>.</p>
<p>If no matching object is found, the toolkit will return a special
<code class="xref py py-class docutils literal notranslate"><span class="pre">Undefined</span></code> class that will raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.10)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a>
when instantiated.</p>
<p>The basic toolkit implementation provides two other features which may be of
use.  It has a trait that gives the name of the toolkit, and it has a list of
packages that it searches when trying to import a toolkit object.  This
second trait provides a hook where an application can insert other packages
into the search path to override the default implementations of a toolkit’s
widgets, if needed.</p>
</div>
<div class="section" id="toolkit-entrypoints">
<h2>Toolkit Entrypoints<a class="headerlink" href="#toolkit-entrypoints" title="Permalink to this headline">¶</a></h2>
<p>Pyface uses the standard <code class="docutils literal notranslate"><span class="pre">importlib_metadata</span></code> “entry point” system to allow
other libraries to contribute new toolkit implementations to Pyface.  The
toolkit selection process discussed above looks for things contributed to the
<code class="docutils literal notranslate"><span class="pre">pyface.toolkits</span></code> entry point.  These are specified in the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> of
the third party library, something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span><span class="p">(</span>
    <span class="c1"># ... a bunch of other standard setup.py stuff</span>
    <span class="n">entry_points</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;pyface.toolkits&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;my_toolkit = my_project.my_toolkit.init:toolkit_object&#39;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The left-hand side is the name of the toolkit, suitable for use with
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ETSConfig</span></code>, and the right-hand side is the location of a toolkit
object which matches the specification above: a callable object which takes
identifiers as specified and returns concrete implementations.  The easiest
way to do this is to follow the examples of the current toolkits and use
a <a class="reference internal" href="api/pyface.base_toolkit.html#pyface.base_toolkit.Toolkit" title="pyface.base_toolkit.Toolkit"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyface.base_toolkit.Toolkit</span></code></a> instance, but this is not required.</p>
</div>
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/img/e-logo.png" alt="Logo">
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Toolkits</a><ul>
<li><a class="reference internal" href="#toolkit-selection">Toolkit Selection</a></li>
<li><a class="reference internal" href="#toolkit-objects">Toolkit Objects</a></li>
<li><a class="reference internal" href="#toolkit-entrypoints">Toolkit Entrypoints</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="overview.html"
                        title="previous chapter">Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="widgets.html"
                        title="next chapter">Widgets</a></p>
  <h3>This Page</h3>
  <div>
    <a href="_sources/toolkits.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2022, Enthought
      </li>
      <li>
      Last updated on Jul 15, 2022.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.5.4.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>